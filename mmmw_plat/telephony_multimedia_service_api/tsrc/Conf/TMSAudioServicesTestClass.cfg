// _Unsupported_ Those API could be not implemented and return KErrNotSupported


[Define]
KErrNotFound -1
KErrNotSupported -5
KErrAlreadyExists -11
KErrNotReady -18
KErrAccessDenied -21

KErrEventPending -2000
KErrCallbackErrorCode -2001
KErrUnexpectedValue -2002
KErrNotificationPending -2005
KErrUnexpectedNotification -2006
KErrTimeoutController -2007

TMS_RESULT_SUCCESS                      0
TMS_RESULT_ALREADY_EXIST                1
TMS_RESULT_DOES_NOT_EXIST               2
TMS_RESULT_NULL_ARGUMENT                3
TMS_RESULT_INVALID_ARGUMENT             4
TMS_RESULT_INVALID_STATE                5
TMS_RESULT_UNINITIALIZED_OBJECT         6
TMS_RESULT_INSUFFICIENT_MEMORY          7
TMS_RESULT_GENERAL_ERROR                8
TMS_RESULT_FATAL_ERROR                  9
TMS_RESULT_OPERATION_CANCELLED          10
TMS_RESULT_ILLEGAL_OPERATION            11
TMS_RESULT_BUFFER_LATENCY_ERROR         12
TMS_RESULT_CALL_TYPE_NOT_SUPPORTED      13
TMS_RESULT_BUFFER_TYPE_NOT_SUPPORTED    14
TMS_RESULT_SOURCE_TYPE_NOT_SUPPORTED    15
TMS_RESULT_SINK_TYPE_NOT_SUPPORTED      16
TMS_RESULT_STREAM_TYPE_NOT_SUPPORTED    17
TMS_RESULT_FORMAT_TYPE_NOT_SUPPORTED    18
TMS_RESULT_EFFECT_TYPE_NOT_SUPPORTED    19
TMS_RESULT_VERSION_NOT_SUPPORTED        20
TMS_RESULT_FORMAT_TYPE_UNSPECIFIED      21
TMS_RESULT_FEATURE_NOT_SUPPORTED        22

TMS_STREAM_UNINITIALIZED    0
TMS_STREAM_INITIALIZED      1
TMS_STREAM_PAUSED           2
TMS_STREAM_STARTED          3

TMS_STREAM_UPLINK           0
TMS_STREAM_DOWNLINK         1

[Enddefine]


/////////////
//TMSFactory
/////////////

[Test]
title  01. TMSFactory - 01. Create Factory
create TmsAudioServicesTestClass Tms
Tms CreateFactory
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 02. Create Call - CS
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 03. Create Call - ECS
create TmsAudioServicesTestClass Tms
Tms CreateFactory
allownextresult TMS_RESULT_CALL_TYPE_NOT_SUPPORTED
Tms CreateCall 1
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 04. Create Call - IP
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 05. Create PCM Format
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateFormat PCM16
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 06. Create AMR Format
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateFormat AMR-NB
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 07. Create G711 Format
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateFormat G711
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 08. Create G729 Format
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateFormat G729
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 09. Create ILBC Format
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateFormat iLBC
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 10. Create Buffer
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateBuffer 2 4096
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 11. Create Source CLIENT
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateSource 3
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 12. Create Source MODEM
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateSource 4
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 13. Create Source MIC
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateSource 5
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 14. Create Sink CLIENT
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateSink 6
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 15. Create Sink MODEM
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateSink 7
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 16. Create Sink SPEAKER
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateSink 8
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 17. GetSupportedFormats Dnlink
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms GetSupportedFormats Dnlink
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 18. GetSupportedFormats Uplink
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms GetSupportedFormats Uplink
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 19. CreateGlobalRouting
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateGlobalRouting
delete Tms
[Endtest]

[Test]
title  01. TMSFactory - 20. IsCallTypeSupported
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms IsCallTypeSupported 3
delete Tms
[Endtest]

/////////////
//TMSCall
/////////////

[Test]
title  02. TMSCall - 01. IP Create UPL Stream
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
delete Tms
[Endtest]

[Test]
title  02. TMSCall - 02. IP Create UPL Stream Elements
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat PCM16
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddClientSinkToUplStream
delete Tms
[Endtest]

[Test]
title  02. TMSCall - 03. IP Create DNL Stream
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
delete Tms
[Endtest]

[Test]
title  02. TMSCall - 04. IP Create DNL Stream Elements
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat PCM16
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSpkrSinkToDnlStream
delete Tms
[Endtest]

[Test]
title  02. TMSCall - 05. CS Create UPL Stream
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0
Tms CreateUplinkStream
delete Tms
[Endtest]

[Test]
title  02. TMSCall - 06. CS Create UPL Stream Elements
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateUplinkStream
Tms CreateSource 5  //MIC
Tms AddMicSrcToUplStream
Tms CreateSink 7    //MODEM
Tms AddModemSinkToUplStream
delete Tms
[Endtest]

[Test]
title  02. TMSCall - 07. CS Create DNL Stream
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0
Tms CreateDownlinkStream
delete Tms
[Endtest]

[Test]
title  02. TMSCall - 08. CS Create DNL Stream Elements
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateDownlinkStream
Tms CreateSource 4  //MODEM
Tms AddModemSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSpkrSinkToDnlStream
delete Tms
[Endtest]

/////////////
//TMSEffect
/////////////

[Test]
title  03. TMSEffect - 01. Create Global VolumeEffect
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateEffect 9
Tms Volume 9
delete Tms
[Endtest]

[Test]
title  03. TMSEffect - 02. Create Global GainEffect
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateEffect 10
Tms Gain 10
delete Tms
[Endtest]

[Test]
title  03. TMSEffect - 03. Volume Effect
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateEffect 11
Tms Volume 11
delete Tms
[Endtest]

[Test]
title  03. TMSEffect - 04. Gain Effect
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateEffect 12
Tms Gain 12
delete Tms
[Endtest]

[Test]
title  03. TMSEffect - 05. Get Effect Type
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateUplinkStream
Tms CreateEffect 9
Tms GetEffectType 9
Tms CreateEffect 10
Tms GetEffectType 10
Tms CreateEffect 11
Tms GetEffectType 11
Tms CreateEffect 12
Tms GetEffectType 12
delete Tms
[Endtest]

////////////////////
//TMSStream IP CALL
////////////////////

// Only IP call supports codec format selection.

[Test]
title  04. TMSStream - 01. Set and Reset DNL format - PCM
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat PCM16 Dnlink
Tms SetDownlinkFormat
Tms ReSetDownlinkFormat
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 02. Set and Reset DNL format - AMR
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat AMR-NB Dnlink
Tms SetDownlinkFormat
Tms ReSetDownlinkFormat
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 03. Set and Reset DNL format - G711
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat G711 Dnlink
Tms SetDownlinkFormat
Tms ReSetDownlinkFormat
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 04. Set and Reset DNL format - G729
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat G729 Dnlink
Tms SetDownlinkFormat
Tms ReSetDownlinkFormat
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 05. Set and Reset DNL format - ILBC
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat iLBC Dnlink
Tms SetDownlinkFormat
Tms ReSetDownlinkFormat
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 06. Set and Reset UPL format - PCM
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat PCM16 Uplink
Tms SetUplinkFormat
Tms ReSetUplinkFormat
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 07. Set and Reset UPL format - AMR
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat AMR-NB Uplink
Tms SetUplinkFormat
Tms ReSetUplinkFormat
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 08. Set and Reset UPL format - G711
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G711 Uplink
Tms SetUplinkFormat
Tms ReSetUplinkFormat
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 09. Set and Reset UPL format - G729
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G729 Uplink
Tms SetUplinkFormat
Tms ReSetUplinkFormat
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 10. Set and Reset UPL format - ILBC
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat iLBC Uplink
Tms SetUplinkFormat
Tms ReSetUplinkFormat
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 11. Open DNL format - PCM
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat PCM16 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 12. Open DNL format - AMR
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat AMR-NB Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 13. Open DNL format - G711
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat G711 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 14. Open DNL format - G729
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat G729 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 15. Open DNL format - ILBC
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat iLBC Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 16. Open UPL format - PCM
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat PCM16 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 17. Open UPL format - AMR
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat AMR-NB Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 18. Open UPL format - G711
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G711 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 19. Open UPL format - G729
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G729 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 20. Open UPL format - ILBC
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat iLBC Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 21. Add and Remove Global VolumeEffect To Stream
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateEffect 9
allownextresult TMS_RESULT_DOES_NOT_EXIST
Tms RemoveGlobleVolumeEffectToStream
Tms AddGlobleVolumeEffectToStream
allownextresult TMS_RESULT_ALREADY_EXIST
Tms AddGlobleVolumeEffectToStream
Tms RemoveGlobleVolumeEffectToStream
Tms AddGlobleVolumeEffectToStream
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 22. Add and Remove Global Gain Effect To Stream
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateEffect 10
allownextresult TMS_RESULT_DOES_NOT_EXIST
Tms RemoveGlobleGainEffectToStream
Tms AddGlobleGainEffectToStream
allownextresult TMS_RESULT_ALREADY_EXIST
Tms AddGlobleGainEffectToStream
Tms RemoveGlobleGainEffectToStream
Tms AddGlobleGainEffectToStream
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 23. Add and Remove Source
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat PCM16 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3
Tms CreateSink 8
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
allownextresult TMS_RESULT_DOES_NOT_EXIST
Tms RemoveClientSrcFromDnlStream
Tms AddClientSrcToDnlStream
allownextresult TMS_RESULT_ALREADY_EXIST
Tms AddClientSrcToDnlStream
Tms RemoveClientSrcFromDnlStream
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms OpenDownlink
waittestclass Tms
//Client must call DeInit() otherwise return TMS_RESULT_INVALID_STATE
allownextresult TMS_RESULT_INVALID_STATE
Tms RemoveClientSrcFromDnlStream
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 24. Add and Remove Sink
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat PCM16 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
allownextresult TMS_RESULT_DOES_NOT_EXIST
Tms RemoveClientSinkFromUplStream
Tms AddClientSinkToUplStream
allownextresult TMS_RESULT_ALREADY_EXIST
Tms AddClientSinkToUplStream
Tms RemoveClientSinkFromUplStream
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
//Client must call DeInit() otherwise return TMS_RESULT_INVALID_STATE
allownextresult TMS_RESULT_INVALID_STATE
Tms RemoveClientSinkFromUplStream
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 25. Get Stream State - UPL
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat PCM16 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
allownextresult TMS_STREAM_UNINITIALIZED
Tms GetStreamState Uplink
Tms OpenUplink
waittestclass Tms
allownextresult TMS_STREAM_INITIALIZED
Tms GetStreamState Uplink
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 26. Get Stream State - DNL
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat PCM16 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
allownextresult TMS_STREAM_UNINITIALIZED
Tms GetStreamState Dnlink
Tms OpenDownlink
waittestclass Tms
allownextresult TMS_STREAM_INITIALIZED
Tms GetStreamState Dnlink
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 27. Get Stream Type
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateDownlinkStream
allownextresult TMS_STREAM_UPLINK
Tms GetStreamType Uplink
allownextresult TMS_STREAM_DOWNLINK
Tms GetStreamType Dnlink
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 28. Start and Stop UPL
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat PCM16 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms Start Uplink
waittestclass Tms
Tms Stop Uplink
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 29. Start and Stop DNL
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat PCM16 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms Start Dnlink
waittestclass Tms
Tms Stop Dnlink
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 30. Start and Pause UPL
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat PCM16 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms Start Uplink
waittestclass Tms
allownextresult TMS_STREAM_STARTED
Tms GetStreamState Uplink
Tms Pause Uplink
waittestclass Tms
allownextresult TMS_STREAM_PAUSED
Tms GetStreamState Uplink
Tms Start Uplink
waittestclass Tms
allownextresult TMS_STREAM_STARTED
Tms GetStreamState Uplink
Tms Stop Uplink
delete Tms
[Endtest]

[Test]
title  04. TMSStream - 31. Start and Pause DNL
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat PCM16 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms Start Dnlink
waittestclass Tms
allownextresult TMS_STREAM_STARTED
Tms GetStreamState Dnlink
Tms Pause Dnlink
waittestclass Tms
allownextresult TMS_STREAM_PAUSED
Tms GetStreamState Dnlink
Tms Start Dnlink
waittestclass Tms
allownextresult TMS_STREAM_STARTED
Tms GetStreamState Dnlink
Tms Stop Dnlink
delete Tms
[Endtest]

////////////////////
//TMSStream CS CALL
////////////////////

[Test]
title  05. TMSStream - 01. CS - Start and Stop UPL
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateUplinkStream
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 7    //MODEM
Tms AddSinkObserver
Tms AddModemSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms Start Uplink
waittestclass Tms
Tms Stop Uplink
delete Tms
[Endtest]

[Test]
title  05. TMSStream - 02. CS - Start and Stop DNL
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateDownlinkStream
Tms CreateSource 4  //MODEM
Tms AddSourceObserver
Tms AddModemSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms Start Dnlink
waittestclass Tms
Tms Stop Dnlink
delete Tms
[Endtest]

// TODO: Add MORE cases verifying correct error codes are returned
//       when attempting to add format to a CS stream.


/////////////
//TMSSource
/////////////

[Test]
title  06. TMSSource - 01. Get Source Type
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateSource 3
Tms GetSourceType 3
Tms DeleteSource
Tms CreateSource 4
Tms GetSourceType 4
Tms DeleteSource
Tms CreateSource 5
Tms GetSourceType 5
Tms DeleteSource
delete Tms
[Endtest]

[Test]
title  06. TMSSource - 02. Add and Remove SourceObserver
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateSource 3
Tms AddSourceObserver
Tms RemoveSourceObserver
delete Tms
[Endtest]

/////////////
//TMSSink
/////////////

[Test]
title  07. TMSSink - 01. Get Sink Type
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateSink 6
Tms GetSinkType 6
Tms DeleteSink
Tms CreateSink 7
Tms GetSinkType 7
Tms DeleteSink
Tms CreateSink 8
Tms GetSinkType 8
Tms DeleteSink
delete Tms
[Endtest]

[Test]
title  07. TMSSink - 02. Add and Remove SinkObserver
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateSink 6
Tms AddSinkObserver
Tms RemoveSinkObserver
delete Tms
[Endtest]

/////////////
//TMSFormat - Codec Settings
/////////////

// Format APIs can only be set for IP call.

[Test]
title  08. TMSFormat - 01. GetType - PCM16
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat PCM16
Tms GetType PCM16
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 02. BitRate - AMR-NB
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat AMR-NB Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms GetBitRateList
Tms SetBitrates MIN
Tms GetBitrates MIN
Tms SetBitrates MAX
Tms GetBitrates MAX
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 03. GetType - AMR-NB
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat AMR-NB
Tms SetUplinkFormat
Tms GetType AMR-NB
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 04. BitRate - G711
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G711 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms GetBitRateList
Tms SetBitrates MIN
Tms GetBitrates MIN
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 05. GetType - G711
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G711
Tms SetUplinkFormat
Tms GetType G711
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 06. Set and Get Mode - G711 encoder
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G711 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms SetMode Uplink aLaw
Tms GetMode Uplink
Tms SetMode Uplink uLaw
Tms GetMode Uplink
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 07. Set and Get Mode - G711 decoder
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat G711 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms SetMode Dnlink aLaw
Tms GetMode Dnlink
Tms SetMode Dnlink uLaw
Tms GetMode Dnlink
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 08. Set and Get CNG - G711
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat G711 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms ToggleCNG
Tms GetCNG
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 09. Set and Get PLC - G711
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat G711 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms TogglePLC
Tms GetPLC
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 10. Set and Get VADMode - G711
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G711 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms ToggleVAD
Tms GetVAD
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 11. BitRate - G729
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G729 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms GetBitRateList
Tms SetBitrates MIN
Tms GetBitrates MIN
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 12. GetType - G729
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G729
Tms SetUplinkFormat
Tms GetType G729
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 13. Set and Get VADMode - G729
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G729 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms ToggleVAD
Tms GetVAD
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 14. BitRate - iLBC
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat iLBC Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms GetBitRateList
Tms SetBitrates MIN
Tms GetBitrates MIN
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 15. GetType - iLBC
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat iLBC
Tms SetUplinkFormat
Tms GetType iLBC
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 16. Set and Get Mode - iLBC - encoder
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat iLBC Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms SetMode Uplink 20ms
Tms GetMode Uplink
Tms SetMode Uplink 30ms
Tms GetMode Uplink
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 17. Set and Get Mode - iLBC - decoder
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat iLBC Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms SetMode Dnlink 20ms
Tms GetMode Dnlink
Tms SetMode Dnlink 30ms
Tms GetMode Dnlink
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 18. Set and Get CNG - iLBC
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateDownlinkStream
Tms CreateFormat iLBC Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms ToggleCNG
Tms GetCNG
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 19. Set and Get VADMode - iLBC
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat G729 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
Tms ToggleVAD
Tms GetVAD
delete Tms
[Endtest]

[Test]
title  08. TMSFormat - 20. BitRate - PCM
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2
Tms CreateUplinkStream
Tms CreateFormat PCM16 Uplink
Tms SetUplinkFormat
Tms CreateSource 5  //MIC
Tms AddSourceObserver
Tms AddMicSrcToUplStream
Tms CreateSink 6    //CLIENT
Tms AddSinkObserver
Tms AddClientSinkToUplStream
Tms OpenUplink
waittestclass Tms
allownextresult TMS_RESULT_DOES_NOT_EXIST
Tms GetBitRateList
delete Tms
[Endtest]

// TODO: Add more cases verifying correct error codes are returned
//       when attempting to set format on a CS call.


////////////////////
// TMSGlobalRouting
////////////////////

[Test]
title  09. TMSGblRtng IP CALL - 01. Add and Remove Observer
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
allownextresult TMS_RESULT_ALREADY_EXIST
Tms AddGlobalRoutingObserver
Tms DeleteGlobalRoutingObserver
allownextresult TMS_RESULT_DOES_NOT_EXIST
Tms DeleteGlobalRoutingObserver
delete Tms
[Endtest]

[Test]
title  09. TMSGblRtng CS CALL - 02. Set and Get Output - None
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateDownlinkStream
Tms CreateSource 4  //MODEM
Tms AddSourceObserver
Tms AddModemSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
allownextresult TMS_RESULT_INVALID_ARGUMENT
Tms SetOutput None
delete Tms
[Endtest]

[Test]
title  09. TMSGblRtng IP CALL - 03. Set and Get Output - Private
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2    //IP
Tms CreateDownlinkStream
Tms CreateFormat PCM16 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
Tms SetOutput Private
Tms GetOutput Private
delete Tms
[Endtest]

[Test]
title  09. TMSGblRtng IP CALL - 04. Set and Get Output - Public
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 2    //IP
Tms CreateDownlinkStream
Tms CreateFormat PCM16 Dnlink
Tms SetDownlinkFormat
Tms CreateSource 3  //CLIENT
Tms AddSourceObserver
Tms AddClientSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
Tms SetOutput Public
Tms GetOutput Public
delete Tms
[Endtest]

[Test]
title  09. TMSGblRtng - 05. Set and Get Output - Handset
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateDownlinkStream
Tms CreateSource 4  //MODEM
Tms AddSourceObserver
Tms AddModemSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
Tms SetOutput Handset
waittestclass Tms
Tms GetOutput Handset
delete Tms
[Endtest]

[Test]
title  09. TMSGblRtng - 06. Set and Get Output - Loudspeaker
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateDownlinkStream
Tms CreateSource 4  //MODEM
Tms AddSourceObserver
Tms AddModemSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
Tms SetOutput Loudspeaker
waittestclass Tms
Tms GetOutput Loudspeaker
delete Tms
[Endtest]

// NOTE: Specific Accessory needs to be connected

[Test]
title  09. TMSGblRtng - 07. Set and Get Output - WiredAudioAccessory
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateDownlinkStream
Tms CreateSource 4  //MODEM
Tms AddSourceObserver
Tms AddModemSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
Tms SetOutput WiredAccessory
waittestclass Tms
Tms GetOutput WiredAccessory
delete Tms
[Endtest]

// NOTE: Specific Accessory needs to be connected

[Test]
title  09. TMSGblRtng - 08. Set and Get Output - Accessory
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateDownlinkStream
Tms CreateSource 4  //MODEM
Tms AddSourceObserver
Tms AddModemSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
Tms SetOutput Accessory
delete Tms
[Endtest]

// NOTE: Specific TTY Accessory needs to be connected

[Test]
title  09. TMSGblRtng - 09. Set and Get Output - TTY
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateDownlinkStream
Tms CreateSource 4  //MODEM
Tms AddSourceObserver
Tms AddModemSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
Tms SetOutput TTY
delete Tms
[Endtest]

// NOTE: CS call only

[Test]
title  09. TMSGblRtng - 10. GetPreviousOutput
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateDownlinkStream
Tms CreateSource 4  //MODEM
Tms AddSourceObserver
Tms AddModemSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
Tms SetOutput Handset
waittestclass Tms
Tms SetOutput Loudspeaker
waittestclass Tms
Tms GetOutput Loudspeaker
Tms GetPreviousOutput Handset
delete Tms
[Endtest]

// NOTE: CS call only

[Test]
title  09. TMSGblRtng - 11. GetAvailableOutputs
create TmsAudioServicesTestClass Tms
Tms CreateFactory
Tms CreateCall 0    //CS
Tms CreateDownlinkStream
Tms CreateSource 4  //MODEM
Tms AddSourceObserver
Tms AddModemSrcToDnlStream
Tms CreateSink 8    //SPKR
Tms AddSinkObserver
Tms AddSpkrSinkToDnlStream
Tms OpenDownlink
waittestclass Tms
Tms CreateGlobalRouting
Tms AddGlobalRoutingObserver
Tms GetAvailableOutputs
delete Tms
[Endtest]

